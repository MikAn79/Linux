#ssh
[[Fedora_Linux_Начало]]

Включение SSH в Fedora — это процесс, который можно выполнить несколькими способами. SSH (Secure Shell) позволяет удаленно управлять системой через защищенное соединение. Вот подробная инструкция:

---

### 1. **Установка OpenSSH**
Fedora обычно поставляется с предустановленным пакетом OpenSSH, но если его нет, вы можете установить его вручную.

Откройте терминал и выполните следующую команду:

```bash
sudo dnf install openssh-server
```

Эта команда установит серверную часть SSH (sshd), если она еще не установлена.

---

### 2. **Запуск службы SSH**
После установки OpenSSH необходимо запустить службу SSH.

```bash
sudo systemctl start sshd
```

Чтобы убедиться, что служба запущена, выполните:

```bash
systemctl status sshd
```

Если служба активна, вы увидите сообщение `active (running)`.

---

### 3. **Настройка автозапуска SSH при загрузке системы**
Чтобы SSH автоматически запускался при каждой загрузке системы, выполните:

```bash
sudo systemctl enable sshd
```

Теперь служба будет запускаться автоматически при старте системы.

---

### 4. **Настройка брандмауэра (Firewall)**
Fedora использует `firewalld` для управления правилами брандмауэра. По умолчанию порт SSH (22) может быть заблокирован. Чтобы разрешить входящие подключения к SSH, выполните:

```bash
sudo firewall-cmd --add-service=ssh --permanent
sudo firewall-cmd --reload
```

Первая команда разрешает трафик на порт SSH (22), а вторая применяет изменения.

---

### 5. **Проверка работы SSH**
Чтобы проверить, работает ли SSH, выполните следующую команду на другом компьютере или в том же терминале:

```bash
ssh username@your_server_ip
```

Замените:
- `username` на ваше имя пользователя в системе.
- `your_server_ip` на IP-адрес вашего сервера.

Если все настроено правильно, вы сможете подключиться.

---

### 6. **Дополнительные настройки (опционально)**

#### Изменение порта SSH
По умолчанию SSH работает на порту 22. Если вы хотите изменить порт для повышения безопасности, отредактируйте конфигурационный файл SSH:

```bash
sudo nano /etc/ssh/sshd_config
```

Найдите строку `#Port 22`, раскомментируйте её (уберите `#`) и укажите новый порт, например:

```bash
Port 2222
```

Сохраните файл и перезапустите службу SSH:

```bash
sudo systemctl restart sshd
```

Не забудьте также обновить правила брандмауэра для нового порта:

```bash
sudo firewall-cmd --add-port=2222/tcp --permanent
sudo firewall-cmd --reload
```

#### Отключение входа root через SSH
Для повышения безопасности рекомендуется отключить возможность входа в систему под пользователем `root` через SSH. В файле `/etc/ssh/sshd_config` найдите строку:

```bash
#PermitRootLogin yes
```

Измените её на:

```bash
PermitRootLogin no
```

Сохраните файл и перезапустите службу SSH:

```bash
sudo systemctl restart sshd
```

---

### 7. **Проверка логов SSH**
Если возникли проблемы с подключением, вы можете проверить логи SSH для диагностики:

```bash
sudo journalctl -u sshd
```

---

### Итог
Теперь SSH должен быть успешно настроен и работать на вашей системе Fedora. Вы можете подключаться к серверу удаленно, используя клиент SSH.

Если у вас есть дополнительные вопросы или возникли сложности, не стесняйтесь уточнить!