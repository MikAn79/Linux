- [Как посмотреть логи в Linux](#как-посмотреть-логи-в-linux)
    - [Расположение логов по умолчанию](#расположение-логов-по-умолчанию)
    - [Просмотр логов в Linux](#просмотр-логов-в-linux)

# Как посмотреть логи в Linux

Обновлено: 1 октября, 2021 Опубликовано: 10 мая, 2016 от [admin](https://losst.pro/author/admin "Просмотр всех записей admin") , 18 комменариев, время чтения: 7 минут, 7 секунд

Системные администраторы, да и обычные пользователи Linux, часто должны смотреть лог файлы для устранения неполадок. На самом деле, это первое, что должен сделать любой сисадмин при возникновении любой ошибки в системе.

Сама операционная система Linux и работающие приложения генерируют различные типы сообщений, которые регистрируются в различных файлах журналов. В Linux используются специальное программное обеспечение, файлы и директории для хранения лог файлов. Знание в каких файлах находятся логи каких программ поможет вам сэкономить время и быстрее решить проблему. В этой статье мы рассмотрим основные части системы логирования в Linux, файлы логов, а также утилиты, с помощью которых можно посмотреть логи Linux.

Содержание статьи:

- [Расположение логов по умолчанию](#%D0%A0%D0%B0%D1%81%D0%BF%D0%BE%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BB%D0%BE%D0%B3%D0%BE%D0%B2_%D0%BF%D0%BE_%D1%83%D0%BC%D0%BE%D0%BB%D1%87%D0%B0%D0%BD%D0%B8%D1%8E "Расположение логов по умолчанию")
- [Просмотр логов в Linux](#%D0%9F%D1%80%D0%BE%D1%81%D0%BC%D0%BE%D1%82%D1%80_%D0%BB%D0%BE%D0%B3%D0%BE%D0%B2_%D0%B2_Linux "Просмотр логов в Linux")
- [Выводы](#%D0%92%D1%8B%D0%B2%D0%BE%D0%B4%D1%8B "Выводы")

## Расположение логов по умолчанию

Большинство файлов логов Linux находятся в папке **/var/log/** вы можете список файлов логов для вашей системы с помощью команды ls:

`ls -l /var/log/`

[<img width="780" height="439" src="../_resources/Snimok-ekrana-ot-2020-09-02-20-4_16b258c2e1d344c19.png" class="jop-noMdConv">](https://losst.pro/wp-content/uploads/2016/05/Snimok-ekrana-ot-2020-09-02-20-43-42.png)

Ниже мы рассмотрим 20 различных файлов логов Linux, размещенных в каталоге **/var/log/**. Некоторые из этих логов встречаются только в определенных дистрибутивах, например, **dpkg.log** встречается только в системах, основанных на Debian.

- **/var/log/messages** \- содержит глобальные системные логи Linux, в том числе те, которые регистрируются при запуске системы. В этот лог записываются несколько типов сообщений: это почта, cron, различные сервисы, ядро, аутентификация и другие.
- **/var/log/dmesg** \- содержит сообщения, полученные от ядра. Регистрирует много сообщений еще на этапе загрузки, в них отображается информация об аппаратных устройствах, которые инициализируются в процессе загрузки. Можно сказать это еще один лог системы Linux. Количество сообщений в логе ограничено, и когда файл будет переполнен, с каждым новым сообщением старые будут перезаписаны. Вы также можете посмотреть сообщения из этого лога с помощью команды dmseg.
- **/var/log/auth.log** \- содержит информацию об авторизации пользователей в системе, включая пользовательские логины и механизмы аутентификации, которые были использованы.
- **/var/log/boot.log** \- Содержит информацию, которая регистрируется при загрузке системы.
- **/var/log/daemon.log** \- Включает сообщения от различных фоновых демонов
- **/var/log/kern.log** \- Тоже содержит сообщения от ядра, полезны при устранении ошибок пользовательских модулей, встроенных в ядро.
- **/var/log/lastlog** \- Отображает информацию о последней сессии всех пользователей. Это нетекстовый файл, для его просмотра необходимо использовать команду lastlog.
- **/var/log/maillog /var/log/mail.log** \- журналы сервера электронной почты, запущенного в системе.
- **/var/log/user.log** \- Информация из всех журналов на уровне пользователей.
- **/var/log/Xorg.x.log** \- Лог сообщений Х сервера.
- **/var/log/alternatives.log** \- Информация о работе программы update-alternatives. Это символические ссылки на команды или библиотеки по умолчанию.
- **/var/log/btmp** \- лог файл Linux содержит информацию о неудачных попытках входа. Для просмотра файла удобно использовать команду last -f /var/log/btmp
- **/var/log/cups** \- Все сообщения, связанные с печатью и принтерами.
- **/var/log/anaconda.log** \- все сообщения, зарегистрированные при установке сохраняются в этом файле
- **/var/log/yum.log** \- регистрирует всю информацию об установке пакетов с помощью Yum.
- **/var/log/cron** \- Всякий раз когда демон Cron запускает выполнения программы, он записывает отчет и сообщения самой программы в этом файле.
- **/var/log/secure** \- содержит информацию, относящуюся к аутентификации и авторизации. Например, SSHd регистрирует здесь все, в том числе неудачные попытки входа в систему.
- **/var/log/wtmp или /var/log/utmp -** системные логи Linux**, **содержат журнал входов пользователей в систему. С помощью команды wtmp вы можете узнать кто и когда вошел в систему.
- **/var/log/faillog** \- лог системы linux, содержит неудачные попытки входа в систему. Используйте команду faillog, чтобы отобразить содержимое этого файла.
- **/var/log/mysqld.log** \- файлы логов Linux от сервера баз данных MySQL.
- **/var/log/httpd/ или /var/log/apache2** \- лог файлы linux11 веб-сервера Apache. Логи доступа находятся в файле access\_log, а ошибок в error\_log
- **/var/log/lighttpd/** \- логи linux веб-сервера lighttpd
- **/var/log/conman/** \- файлы логов клиента ConMan,
- **/var/log/mail/** \- в этом каталоге содержатся дополнительные логи почтового сервера
- **/var/log/prelink/** \- Программа Prelink связывает библиотеки и исполняемые файлы, чтобы ускорить процесс их загрузки. /var/log/prelink/prelink.log содержит информацию о .so файлах, которые были изменены программой.
- **/var/log/audit/**\- Содержит информацию, созданную демоном аудита auditd.
- **/var/log/setroubleshoot/ -** SE Linux использует демон setroubleshootd (SE Trouble Shoot Daemon) для уведомления о проблемах с безопасностью. В этом журнале находятся сообщения этой программы.
- **/var/log/samba/** \- содержит информацию и журналы файлового сервера Samba, который используется для подключения к общим папкам Windows.
- **/var/log/sa/** \- Содержит .cap файлы, собранные пакетом Sysstat.
- **/var/log/sssd/** \- Используется системным демоном безопасности, который управляет удаленным доступом к каталогам и механизмами аутентификации.

## Просмотр логов в Linux

Чтобы посмотреть логи на Linux удобно использовать несколько утилит командной строки Linux. Это может быть любой текстовый редактор, или специальная утилита. Скорее всего, вам понадобятся права суперпользователя для того чтобы посмотреть логи в Linux. Вот команды, которые чаще всего используются для этих целей:

- less;
- more;
- cat;
- head;
- grep;
- tail;
- zcat;
- zgrep;
- zmore;
- vi;
- nano.

Я не буду останавливаться подробно на каждой из этих команд, поскольку большинство из них уже подробно рассмотрены на нашем сайте. Но приведу несколько примеров. Просмотр логов Linux выполняется очень просто:

Смотрим лог **/var/log/dmesg**, с возможностью прокрутки:

`less /var/log/dmesg`

[<img width="780" height="439" src="../_resources/Snimok-ekrana-ot-2020-09-02-20-4_5a5152f326b34f4b8.png" class="jop-noMdConv">](https://losst.pro/wp-content/uploads/2016/05/Snimok-ekrana-ot-2020-09-02-20-46-37.png)

Просмотр логов Linux, в реальном времени:

`tail -f /var/log/dmesg`

Открываем лог файл dmesg:

`cat /var/log/dmesg`

Первые строки dmesg:

`head /var/log/dmesg`

Выводим только ошибки из /var/log/messages:

`grep -i error /var/log/dmesg`

[<img width="780" height="439" src="../_resources/Snimok-ekrana-ot-2020-09-02-20-4_d8bd12cee2fc4288a.png" class="jop-noMdConv">](https://losst.pro/wp-content/uploads/2016/05/Snimok-ekrana-ot-2020-09-02-20-47-37.png)

Кроме того, посмотреть логи на linux можно и с помощью графических утилит. Программа **Журналы** может быть использована для удобного просмотра и отслеживания системных журналов на ноутбуке или персональном компьютере с Linux.

[<img width="780" height="439" src="../_resources/Snimok-ekrana-ot-2020-09-02-20-5_7915dac4da6f47e3a.png" class="jop-noMdConv">](https://losst.pro/wp-content/uploads/2016/05/Snimok-ekrana-ot-2020-09-02-20-51-20.png)

Вы можете установить программу в любой системе с установленным X сервером. Также для просмотра логов может использоваться любой графический тестовый редактор.

Кроме того, у каждого сервиса есть свой лог файл, который можно посмотреть с помощью утилиты [journalctl](https://losst.pro/shpargalka-po-journalctl-v-linux).

×