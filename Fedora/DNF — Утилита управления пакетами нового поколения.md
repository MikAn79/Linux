[zaLinux.ru](https://zalinux.ru/)

- [Главная](http://zalinux.ru/)
- [Дерево статей](https://zalinux.ru/?page_id=230)
- [Форум](https://kali.org.ru/)
- [Дешёвые VPS](https://www.ihor-hosting.ru/?from=49733)
- [Рекомендуемый хостинг](https://www.hostland.ru/?r=b33e0e2f)

# DNF — Утилита управления пакетами нового поколения для дистрибутивов на основе RPM

[Alexey](https://zalinux.ru/?author=1 "Записи Alexey") 

06.01.2021 

[0](https://zalinux.ru/?p=5386#respond) 

[Системное администрирование](https://zalinux.ru/?cat=31) 

[CentOS](https://zalinux.ru/?tag=centos), [dnf](https://zalinux.ru/?tag=dnf), [yum](https://zalinux.ru/?tag=yum), [менеджер пакетов](https://zalinux.ru/?tag=%d0%bc%d0%b5%d0%bd%d0%b5%d0%b4%d0%b6%d0%b5%d1%80-%d0%bf%d0%b0%d0%ba%d0%b5%d1%82%d0%be%d0%b2), [обновление дистрибутива](https://zalinux.ru/?tag=%d0%be%d0%b1%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b5-%d0%b4%d0%b8%d1%81%d1%82%d1%80%d0%b8%d0%b1%d1%83%d1%82%d0%b8%d0%b2%d0%b0), [обновление программ](https://zalinux.ru/?tag=%d0%be%d0%b1%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b5-%d0%bf%d1%80%d0%be%d0%b3%d1%80%d0%b0%d0%bc%d0%bc)

* * *

DNF была создана на замену утилиты управления пакетами «YUM» в дистрибутивах на основе Red Hat, а именно RHEL, CentOS и Fedora и т. д., то есть всех тех, которые используют менеджер пакетов RPM.

YUM (сокращение от Yellowdog Updater, Modified) — это бесплатная утилита с открытым исходным кодом на основе командной строки, выпущенная под лицензией GNU General Public License и в основном написанная на языке программирования Python. YUM был разработан для управления и обновления RedHat Linux в Университете Дьюка, позже он получил широкое признание и стал менеджером пакетов RedHat Enterprise Linux, Fedora, CentOS и других дистрибутивов Linux на основе RPM. Его часто называют «Your Package Manager» («вашим менеджером пакетов»), что неофициально часто используют профессионалы Linux.

Читайте также:

- [20 примеров команд yum для управления пакетами](https://zalinux.ru/?p=5336)
- [20 практических примеров команд RPM в Linux](https://zalinux.ru/?p=5318)

## Идея заменить Yum на DNF  

Алеш Козумплик, разработчик проекта DNF, является сотрудником RedHat. Он говорит:

> «Впервые в 2009 году, работая над «Anaconda» — установщиком системы, он получил представление о работе с Linux. Он хотел работать над совершенно другим проектом, который позволил бы ему изучить инструмент для работы с пакетами в Fedora».

Недостатки Yum, которые привели к основанию DNF:

- Разрешение зависимостей YUM является кошмаром и было разрешено в DNF с помощью библиотеки SUSE libsolv и оболочки Python вместе с C Hawkey.
- У YUM нет документированного API.
- Создавать новые функции сложно.
- Нет поддержки других расширений, кроме Python.
- Меньшие затраты памяти и меньшая автоматическая синхронизация метаданных — процесс, требующий много времени.

Алеш Козумплик говорит, что у него нет другого выбора, кроме как разветвить YUM и разработать DNF. Сопровождающий пакета YUM не был готов реализовать эти изменения. YUM имеет около 59000 LOC, тогда как DNF имеет 29000 LOC (строк кода).

DNF впервые показала своё присутствие в Fedora 18. Fedora 20 была первым дистрибутивом Linux, который предлагал пользователям использовать функциональность DNF вместо YUM.

Расположение файла конфигурации dnf по умолчанию: **/etc/dnf/dnf.conf**.

## 1\. Как проверить версию DNF  

Чтобы проверить версию DNF, установленную в вашей системе, выполните команду:

|     |     |
| --- | --- |
| 1   | `dnf --version` |

## 2\. Список включённых репозиториев DNF  

Параметр «**repolist**» с помощью команды **dnf** отобразит все включённые репозитории в вашей системе.

|     |     |
| --- | --- |
| 1   | `dnf repolist` |

[![](../../_resources/dnf-repolist_81a4d9f4400344c2b61c38ed28a76547.png)](https://zalinux.ru/wp-content/uploads/2021/01/dnf-repolist.png)

## 3\. Как вывести все включённые и отключённые репозитории DNF  

Параметр «**repolist all**» распечатает все включённые и отключённые репозитории в вашей системе.

|     |     |
| --- | --- |
| 1   | `dnf repolist all` |

[![](../../_resources/dnf-repolist-all_b54194fc51a04c00b72992b1fd893f1b.png)](https://zalinux.ru/wp-content/uploads/2021/01/dnf-repolist-all.png)

## 4\. Как вывести все доступные и установленные пакеты с помощью DNF  

Команда «dnf list» выведет список всех доступных пакетов из всех репозиториев и установленных пакетов в вашей системе Linux.

|     |     |
| --- | --- |
| 1   | `dnf list` |

## 5\. Как узнать все установленные пакеты с помощью DNF  

А команда «dnf list» показывает все доступные/установленные пакеты из всех репозиториев. Однако у вас есть возможность вывести список только установленных пакетов с помощью опции «list installed», как показано ниже.

|     |     |
| --- | --- |
| 1   | `dnf list installed` |

## 6\. Как узнать все доступные пакеты с помощью DNF  

Точно так же опция «list available» отобразит все пакеты, доступные для установки из всех включённых репозиториев.

|     |     |
| --- | --- |
| 1   | `dnf list available` |

## 7\. Как найти пакет с помощью DNF  

Если вы не знаете точное имя пакета, который вы хотите установить, в такой ситуации вы можете использовать опцию «search» с командой dnf для поиска пакета, который соответствует слову или строке (скажем, nano).

|     |     |
| --- | --- |
| 1   | `dnf search nano` |

[![](../../_resources/dnf-search_ea4dc5f68e924c1f9db41208d1ddd404.png)](https://zalinux.ru/wp-content/uploads/2021/01/dnf-search.png)

## 8\. Как узнать, какому пакету принадлежит файл?  

Параметр dnf «provides» находит имя пакета, который содержит конкретный файл или подпакет. Например, если вы хотите узнать, какой пакет в вашей системе создал файл /bin/bash:

* * *

|     |     |
| --- | --- |
| 1   | `dnf provides` `/bin/bash` |

[![](../../_resources/dnf-provides_02afc9cb3175462ca59f98ffe959c02b.png)](https://zalinux.ru/wp-content/uploads/2021/01/dnf-provides.png)

## 9\. Как получить подробную информацию о пакете с помощью DNF  

Предположим, вы хотите узнать информацию о пакете перед его установкой в систему. Вы можете использовать переключатель «info», чтобы получить подробную информацию о пакете (например, nano), как показано ниже.

* * *

|     |     |
| --- | --- |
| 1   | `dnf info nano` |

[![](../../_resources/dnf-info_39ebaa05ada243ec80e940882208225f.png)](https://zalinux.ru/wp-content/uploads/2021/01/dnf-info.png)

## 10\. Как установить пакет с DNF  

Чтобы установить пакет, просто запустите приведённую ниже команду, она автоматически разрешит и установит все необходимые зависимости для указанного пакета:

|     |     |
| --- | --- |
| 1   | `dnf` `install` `ПАКЕТ` |

Например:

|     |     |
| --- | --- |
| 1   | `sudo` `dnf` `install` `nano` |

[![](../../_resources/dnf-install_f0a440fa964240aa8e595f94e3629430.png)](https://zalinux.ru/wp-content/uploads/2021/01/dnf-install.png)

## 11\. Как обновить пакет с помощью DNF  

Вы можете обновить только определённый пакет (например, systemd) и оставить всё остальное в системе нетронутым.

|     |     |
| --- | --- |
| 1   | `sudo` `dnf update systemd` |

## 12\. Как проверить наличие обновлений системы с помощью DNF  

Чтобы проверить обновления для всех пакетов программ, установленных в системе, выполните следующую команду

|     |     |
| --- | --- |
| 1   | `dnf check-update` |

## 13\. Как обновить все системные пакеты программ с помощью DNF  

Вы можете обновить всю систему, включая все установленные пакеты, с помощью следующих команд.

|     |     |
| --- | --- |
| 1   | `sudo` `dnf update` |

ИЛИ:

* * *

|     |     |
| --- | --- |
| 1   | `sudo` `dnf upgrade` |

## 14\. Как удалить пакет с помощью DNF  

Чтобы удалить или стереть любой нежелательный пакет (например, nano), вы можете использовать переключатель «remove» или «erase» с командой dnf, примеры команд:

|     |     |
| --- | --- |
| 1   | `sudo` `dnf remove nano` |

ИЛИ:

|     |     |
| --- | --- |
| 1   | `sudo` `dnf erase nano` |

## 15\. Как удалить ненужные пакеты с помощью DNF  

Те пакеты, которые были установлены для удовлетворения зависимости, могут оказаться бесполезными, если не будут использоваться другими приложениями. Чтобы удалить эти сиротские пакеты, выполните следующую команду.

|     |     |
| --- | --- |
| 1   | `sudo` `dnf autoremove` |

## 16\. Как удалить кэшированные пакеты с помощью DNF  

Часто мы сталкиваемся с устаревшими заголовками и незавершёнными транзакциями, что приводит к ошибке при выполнении dnf. Мы можем очистить все кэшированные пакеты и заголовки, содержащие информацию об удалённых пакетах, просто выполнив:

|     |     |
| --- | --- |
| 1   | `sudo` `dnf clean all` |

## 17\. Как получить справку по конкретной команде DNF  

Вы можете получить помощь по любой конкретной команде dnf (скажем, clean), просто выполнив приведённую ниже команду.

|     |     |
| --- | --- |
| 1   | `dnf help clean` |

## 18\. Как узнать все команды и параметры DNF  

Чтобы вывести справку по всем доступным командам и параметрам dnf, просто введите:

|     |     |
| --- | --- |
| 1   | `dnf help` |

## 19\. Как посмотреть историю команд DNF  

Вы можете вызвать историю dnf, чтобы просмотреть список уже выполненных команд dnf. Следующей командой вы можете узнать, что было установлено/удалено, для каждого действия будет присутствовать отметка времени.

|     |     |
| --- | --- |
| 1   | `dnf` `history` |

## 20\. Как вывести все групповые пакеты  

Команда «dnf grouplist» распечатает все доступные или установленные пакеты, если ничего не упомянуто (не названа имя группы), отобразятся все известные группы.

|     |     |
| --- | --- |
| 1   | `dnf grouplist` |

<img width="751" height="536" src="../../_resources/dnf-grouplist_5a3bd9f346134af7938609a78cd373d1.png"/>](https://zalinux.ru/wp-content/uploads/2021/01/dnf-grouplist.png)

## 21\. Как установить групповой пакет с помощью DNF  

Чтобы установить группу пакетов, объединённых вместе в виде группового пакета (скажем, Сетевые серверы), выполните следующую команду:

|     |     |
| --- | --- |
| 1   | `sudo` `dnf groupinstall` `'Сетевые серверы'` |

## 22\. Обновление группового пакета  

Давайте обновим групповой пакет (скажем, Сетевые серверы), выполнив следующую команду.

|     |     |
| --- | --- |
| 1   | `sudo` `dnf groupupdate` `'Сетевые серверы'` |

## 23\. Удаление группового пакета  

Мы можем удалить групповой пакет (скажем, Сетевые серверы) следующим образом:

|     |     |
| --- | --- |
| 1   | `sudo` `dnf groupremove` `'Сетевые серверы'` |

## 24\. Как установить пакет из определённого репозитория  

DNF позволяет установить любой конкретный пакет (скажем, phpmyadmin) из репозитория (epel) для этого достаточно выполнить следующую команду:

|     |     |
| --- | --- |
| 1   | `sudo` `dnf --enablerepo=epel` `install` `phpmyadmin` |

## 25\. Синхронизация установленных пакетов со стабильной версией  

Команда «dnf distro-syncc» предоставит необходимые параметры для синхронизации всех установленных пакетов с самой последней стабильной версией, доступной из любого включённого репозитория. Если пакет не выбран, все установленные пакеты синхронизируются.

|     |     |
| --- | --- |
| 1   | `sudo` `dnf distro-``sync` |

## 26\. Как переустановить пакет  

Команда «dnf переустановить nano» переустановит уже установленный пакет (скажем, nano).

|     |     |
| --- | --- |
| 1   | `sudo` `dnf reinstall nano` |

## 27\. Понижение версии пакета  

Параметр «downgrade» понижает версию указанного пакета (скажем, acpid) до более низкой версии, если это возможно.

|     |     |
| --- | --- |
| 1   | `sudo` `dnf downgrade acpid` |

* * *

## Связанные статьи:

- [Как установить обновления безопасности на CentOS 8](https://zalinux.ru/?p=5298) (85.9%)
- [20 примеров команд yum для управления пакетами](https://zalinux.ru/?p=5336) (78.8%)
- [dnf-automatic — автоматическая установка обновлений безопасности в CentOS 8](https://zalinux.ru/?p=5306) (64.6%)
- [20 практических примеров команд RPM в Linux](https://zalinux.ru/?p=5318) (64.6%)
- [Как узнать, какие файлы установлены пакетом RPM, DEB или PKG.TAR.XZ в Linux](https://zalinux.ru/?p=1131) (64.2%)
- [Как отремонтировать диск LVM с помощью fsck](https://zalinux.ru/?p=6595) (RANDOM - 50%)

