- [Обновление до релиза](#обновление-до-релиза)
- [QEMU/KVM на Ubuntu 20.04/22.04](#qemukvm-на-ubuntu-20042204)
- [Горячие клавиши терминала Linux - Losst](#горячие-клавиши-терминала-linux-losst)
- [Переустановка Plasma](#переустановка-plasma)
- [Перезапуск Plasmashell](#перезапуск-plasmashell)
- [Установка полного набора KDE на целевую ОС](#установка-полного-набора-kde-на-целевую-ос)
- [Это отключает валидацию драйверов.](#это-отключает-валидацию-драйверов)
- [Файл подкачки Linux Ссылка](#файл-подкачки-linux-ссылка)
- [Перезапуск Сети](#перезапуск-сети)
- [Чистильщик](#чистильщик)
- [настройка обновлений](#настройка-обновлений)
    - [Исправление зависимостей](#исправление-зависимостей)
    - [Установленные пакеты](#установленные-пакеты)
    - [Установка драйверов](#установка-драйверов)
    - [\[Удаление драйверов\]\[\](Как удалить драйвер Nvidia в Ubuntu)](#удаление-драйверовкак-удалить-драйвер-nvidia-в-ubuntu)
    - [Проверка свободного места в консоли](#проверка-свободного-места-в-консоли)
    - [Обновить GRUB](#обновить-grub)
- [Форматирование флешки](#форматирование-флешки)
- [обновление до версии разработки](#обновление-до-версии-разработки)
- [Свернуть программу в трей](#свернуть-программу-в-трей)
- [ошибка Keyring](#ошибка-keyring)

* * *
[[Fedora_Linux_Начало]]
Ссылки

# Обновление до релиза

`sudo do-release-upgrade -d`

# [QEMU/KVM на Ubuntu 20.04/22.04](../Linux/QEMU_KVM%20на%20Ubuntu%2020.04_22.04.md)

# [Горячие клавиши терминала Linux - Losst](../Linux/Горячие%20клавиши%20терминала%20Linux%20-%20Losst.md)

# Переустановка Plasma

```
sudo dpkg -r kubuntu-desktop
sudo dpkg -r kubuntu-settings-desktop
sudo apt --fix-broken install
sudo apt reinstall kubuntu-desktop
```

# Перезапуск Plasmashell

`plasmashell --replace & disown`

или

`kquitapp5 plasmashell && kstart5 plasmashell`

# [Установка полного набора KDE на целевую ОС](../Linux/Установка%20полного%20набора%20KDE%20на%20целевую%20ОС.md)

# Это отключает валидацию драйверов.

Да и не у всех он отключается. Решается проблема так

`sudo apt install mokutil`

`sudo mokutil --disable-validation`

\-------------------------------------------------------------

* * *

# [Файл подкачки Linux](../Linux/Файл%20подкачки%20Linux.md) Ссылка

Отключаем и удаляем этот файл подкачки следующими командами:

`sudo swapoff -a`

`sudo rm -f /home/swapfile`

На диске должно быть достаточно места, чтобы туда поместился файл подкачки того размера, который вы задали.

Для создания файла подкачки размером 8G (измените значение по вашему желанию) выполните команду:

`sudo fallocate -l 8G /home/swapfile`

Затем выполните команды:

`sudo chmod 600 /home/swapfile`  
`sudo mkswap /home/swapfile`  
`sudo swapon /home/swapfile`

* * *

# Перезапуск Сети

`sudo systemctl restart NetworkManager`

\___\___\___\___\___\___\___\___\___\___\___\___\___\____

# Чистильщик

`sudo apt install bleachbit`

`bleachbit --preview –preset`

`sudo bleachbit --clean --preset`

* * *

Для того, чтобы вычистить из системы сиротские пакеты, нам понадобится утилита **deborphan,** устанавливающаяся стандартно:

`sudo apt install deborphan`

Процедура последующей очистки:

Сначала делаем

`sudo deborphan | sudo xargs apt -y purge`

потом делаем

`sudo apt autoremove --purge`

потом снова первое, потом снова второе. И так несколько раз, пока удалять станет нечего

* * *

# настройка обновлений

`sudo software-properties-kde`

## Исправление зависимостей

`sudo apt clean && sudo apt dist-upgrade -f`

## Установленные пакеты

`dpkg --get-selections`

Показать все установленные пакеты в Ubuntu/Debian.

Используйте следующую команду, чтобы вывести список всех установленных пакетов на Ubuntu и Debian:

`# dpkg --get-selections.`

Если нужно найти конкретный установленный пакет, то можно использовать команду:

`# dpkg --get-selections | grep nginx.`

Так же, можно использовать:

`# dpkg --list`

Для конкретного пакета, это будет выглядеть так:

`# dpkg --list 'apache*'`

## Установка драйверов

`
sudo add-apt-repository ppa:graphics-drivers/ppa -y && sudo dpkg --add-architecture i386 && sudo apt update
`

`ubuntu-drivers devices`

`ubuntu-drivers autoinstall`

## \[Удаление драйверов\]\[\]([Как удалить драйвер Nvidia в Ubuntu](:/90514d9b8a294c549ced5d9936c3f497))

## [Проверка свободного места в консоли](#h2)

`sudo apt install ncdu`

`sudo ncdu`

## Обновить GRUB

`sudo update-grub`

* * *

# [Форматирование флешки](#h3)

Узнать букву  
`fdisk -l` обычно последняя, но по размеру всегда можно выяснить  
`mkfs.vfat -F16|32 /dev/sdбуква_флешки1` отфоматировать файловую систему в фат 16 или фат32

`mkfs.ntfs /dev/sdбуква_флешки1` отфоматировать файловую систему в NTFS

`sudo mkfs.vfat /dev/`

# [обновление до версии разработки](../Linux/обновление%20до%20версии%20разработки.md)

# Свернуть программу в трей

Встала задача **автоматически запускать Thunderbird в трее**.

Для этого установим необходимые пакеты:  
На Debian/Ubuntu:

`sudo apt install wmctrl kdocker`

Теперь попробуем выполнить в терминале команду:

`` thunderbird & sleep 17 && kdocker -b -w `wmctrl -l | grep -i thunderbird | awk '{print $1}'` ``

Она запускает thunderbird, ждет 17 секунд, пока он запустится (измените 17 на время запуска программы у вас), затем находит окно, в названии которого есть слово «thunderbird» с буквами в любом регистре, и сворачивает его в трей. В трее появляется значок Thunderbird. Если развернуть его из трея и свернуть окно, то оно сворачивается обратно в трей, а закрытие окна закрывает его, как и без [kdocker](https://github.com/user-none/KDocker).  
[<img decoding="async" src="../_resources/16825c8a065b843637b9303b57198d0f" alt="" width="519" height="212" class="alignnone size-full wp-image-554 jop-noMdConv" srcset="https://nixtux.ru/wp-content/uploads/2018/06/DeepinScreenshot_выберите-область_20180601225603.png 519w, https://nixtux.ru/wp-content/uploads/2018/06/DeepinScreenshot_выберите-область_20180601225603-300x123.png 300w" sizes="(max-width: 519px) 100vw, 519px" style="box-sizing: inherit; height: auto; max-width: 100%; border: 0px; vertical-align: middle; display: block;">](https://nixtux.ru/wp-content/uploads/2018/06/DeepinScreenshot_%D0%B2%D1%8B%D0%B1%D0%B5%D1%80%D0%B8%D1%82%D0%B5-%D0%BE%D0%B1%D0%BB%D0%B0%D1%81%D1%82%D1%8C_20180601225603.png). Если нужно оставить программу рабочей, но убрать из трея, то нужно нажатием на значок в трее выбрать «Undock».

Далее нужно добавить команду

``/bin/bash -c "thunderbird & sleep 17 && kdocker -b -w `wmctrl -l | grep -i thunderbird | awk '{print $1}'`"``

в автозапуск. Например, в XFCE это делается так: Настройки —> Сеансы и запуск —> Автозапуск.

* * *

# ошибка Keyring

[Ошибка Keyring](../Linux/Ошибка%20Keyring.md)